{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\User_ya\\\\Desktop\\\\repos\\\\posilkoved-repo\\\\client\\\\src\\\\components\\\\header.js\";\nimport React from 'react';\nimport headerLogo from '../img/logo.png';\nexport default class Header extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: ''\n    };\n    this.getLogin();\n    this.handlerLogin = this.handlerLogin.bind(this);\n  }\n\n  handlerLogin(evt) {\n    evt.preventDefault();\n    this.props.setFormType(evt.target.getAttribute('data-type'));\n  }\n\n  getLogin() {\n    //Получаем логин\n    async function fetchGetLogin() {\n      console.log('fetch');\n      const res = await fetch('/api/auth', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': localStorage.getItem('token')\n        }\n      });\n      const result = await res.json();\n      console.log('res ok?');\n\n      if (res.ok) {\n        console.log('res ok'); //take data\n\n        console.log(result);\n        console.log(result.result);\n        return result.result;\n      } // нет проверки на ошибки при get запросе!!!!\n\n    } // console.log(fetchGetLogin())\n\n\n    const login = fetchGetLogin(); // return setState({login: fetchGetLogin())}\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header__wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"logo__link\",\n            href: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"logo\",\n              src: headerLogo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"nav__list\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav__elem\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"nav__link\",\n                href: \"/\",\n                children: \"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav__elem\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"nav__link\",\n                href: \"/\",\n                children: \"\\u0414\\u043E 200 \\u20AC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav__elem\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"nav__link\",\n                href: \"/\",\n                children: \"\\u0414\\u043E 1000 \\u20AC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav__elem\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"nav__link\",\n                href: \"/\",\n                children: \"\\u041B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"login__enter lg-style\",\n            href: \"/\",\n            onClick: this.handlerLogin,\n            \"data-type\": \"auth\",\n            children: localStorage.length ? 'Какой-то логин' : 'Вход'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" / \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"login__reg lg-style\",\n            href: \"/\",\n            onClick: this.handlerLogin,\n            \"data-type\": \"register\",\n            children: localStorage.length ? 'Выход' : 'Регистрация'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/User_ya/Desktop/repos/posilkoved-repo/client/src/components/header.js"],"names":["React","headerLogo","Header","Component","constructor","props","state","login","getLogin","handlerLogin","bind","evt","preventDefault","setFormType","target","getAttribute","fetchGetLogin","console","log","res","fetch","headers","localStorage","getItem","result","json","ok","render","length"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,iBAAvB;AAEA,eAAe,MAAMC,MAAN,SAAqBF,KAAK,CAACG,SAA3B,CAAqC;AAClDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE;AADI,KAAb;AAIA,SAAKC,QAAL;AAEA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAEDD,EAAAA,YAAY,CAACE,GAAD,EAAM;AAChBA,IAAAA,GAAG,CAACC,cAAJ;AACA,SAAKP,KAAL,CAAWQ,WAAX,CAAuBF,GAAG,CAACG,MAAJ,CAAWC,YAAX,CAAwB,WAAxB,CAAvB;AACD;;AAEDP,EAAAA,QAAQ,GAAG;AACT;AACA,mBAAeQ,aAAf,GAA+B;AAC7BC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,WAAD,EAAc;AACjCC,QAAAA,OAAO,EAAE;AACP,0BAAe,kBADR;AAEP,2BAAiBC,YAAY,CAACC,OAAb,CAAqB,OAArB;AAFV;AADwB,OAAd,CAAvB;AAOA,YAAMC,MAAM,GAAG,MAAML,GAAG,CAACM,IAAJ,EAArB;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;;AACA,UAAIC,GAAG,CAACO,EAAR,EAAY;AACVT,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EADU,CAEV;;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYM,MAAZ;AACAP,QAAAA,OAAO,CAACC,GAAR,CAAYM,MAAM,CAACA,MAAnB;AAEA,eAAOA,MAAM,CAACA,MAAd;AACD,OAlB4B,CAkB3B;;AACH,KArBQ,CAsBT;;;AAEA,UAAMjB,KAAK,GAAGS,aAAa,EAA3B,CAxBS,CA0BT;AACD;;AAEDW,EAAAA,MAAM,GAAG;AAEP,wBACA;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAAA,6BAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,gCAEE;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,iCACE;AAAG,YAAA,SAAS,EAAC,YAAb;AAA0B,YAAA,IAAI,EAAC,GAA/B;AAAA,mCACE;AAAK,cAAA,GAAG,EAAC,MAAT;AAAgB,cAAA,GAAG,EAAE1B;AAArB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAFF,eAQE;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,iCACE;AAAI,YAAA,SAAS,EAAC,WAAd;AAAA,oCACE;AAAI,cAAA,SAAS,EAAC,WAAd;AAAA,qCACE;AAAG,gBAAA,SAAS,EAAC,WAAb;AAAyB,gBAAA,IAAI,EAAC,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAI,cAAA,SAAS,EAAC,WAAd;AAAA,qCACE;AAAG,gBAAA,SAAS,EAAC,WAAb;AAAyB,gBAAA,IAAI,EAAC,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAJF,eAOE;AAAI,cAAA,SAAS,EAAC,WAAd;AAAA,qCACE;AAAG,gBAAA,SAAS,EAAC,WAAb;AAAyB,gBAAA,IAAI,EAAC,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAPF,eAUE;AAAI,cAAA,SAAS,EAAC,WAAd;AAAA,qCACE;AAAG,gBAAA,SAAS,EAAC,WAAb;AAAyB,gBAAA,IAAI,EAAC,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBARF,eAyBE;AAAK,UAAA,SAAS,EAAC,OAAf;AAAA,kCACE;AAAG,YAAA,SAAS,EAAC,uBAAb;AAAqC,YAAA,IAAI,EAAC,GAA1C;AAA8C,YAAA,OAAO,EAAE,KAAKQ,YAA5D;AAA0E,yBAAU,MAApF;AAAA,sBACGa,YAAY,CAACM,MAAb,GAAsB,gBAAtB,GAAyC;AAD5C;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAKE;AAAG,YAAA,SAAS,EAAC,qBAAb;AAAmC,YAAA,IAAI,EAAC,GAAxC;AAA4C,YAAA,OAAO,EAAE,KAAKnB,YAA1D;AAAwE,yBAAU,UAAlF;AAAA,sBACGa,YAAY,CAACM,MAAb,GAAsB,OAAtB,GAAgC;AADnC;AAAA;AAAA;AAAA;AAAA,kBALF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAzBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,YADA;AAyCD;;AAzFiD","sourcesContent":["import React from 'react'\r\nimport headerLogo from '../img/logo.png'\r\n\r\nexport default class Header extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      login: '',\r\n    }\r\n\r\n    this.getLogin()\r\n\r\n    this.handlerLogin = this.handlerLogin.bind(this)\r\n  }\r\n\r\n  handlerLogin(evt) {\r\n    evt.preventDefault()\r\n    this.props.setFormType(evt.target.getAttribute('data-type'))\r\n  }\r\n\r\n  getLogin() {    \r\n    //Получаем логин\r\n    async function fetchGetLogin() {\r\n      console.log('fetch')\r\n      const res = await fetch('/api/auth', { \r\n          headers: {\r\n            'Content-Type':'application/json',\r\n            'Authorization': localStorage.getItem('token')\r\n          },\r\n        }\r\n      )\r\n      const result = await res.json()\r\n      console.log('res ok?')\r\n      if (res.ok) {\r\n        console.log('res ok')\r\n        //take data\r\n        console.log(result)\r\n        console.log(result.result)\r\n        \r\n        return result.result\r\n      } // нет проверки на ошибки при get запросе!!!!\r\n    }\r\n    // console.log(fetchGetLogin())\r\n    \r\n    const login = fetchGetLogin()\r\n\r\n    // return setState({login: fetchGetLogin())}\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n    <header className='header'>\r\n\r\n      <div className='header__wrap'>\r\n\r\n        <div className='logo'>\r\n          <a className='logo__link' href='/'>\r\n            <img alt='logo' src={headerLogo} />\r\n          </a> \r\n        </div>\r\n      \r\n        <div className='nav'>\r\n          <ul className='nav__list'>\r\n            <li className='nav__elem'>\r\n              <a className='nav__link' href='/'>Главная</a>\r\n            </li>\r\n            <li className='nav__elem'>\r\n              <a className='nav__link' href='/'>До 200 €</a>\r\n            </li>\r\n            <li className='nav__elem'>\r\n              <a className='nav__link' href='/'>До 1000 €</a>\r\n            </li>\r\n            <li className='nav__elem'>\r\n              <a className='nav__link' href='/'>Личный кабинет</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div className='login'>\r\n          <a className='login__enter lg-style' href='/' onClick={this.handlerLogin} data-type='auth'>\r\n            {localStorage.length ? 'Какой-то логин' : 'Вход'}\r\n          </a>\r\n          <span> / </span>\r\n          <a className='login__reg lg-style' href='/' onClick={this.handlerLogin} data-type='register'>\r\n            {localStorage.length ? 'Выход' : 'Регистрация'}\r\n          </a>\r\n        </div>\r\n\r\n      </div>\r\n    </header>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}