{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\User_ya\\\\Desktop\\\\repos\\\\posilkoved-repo\\\\client\\\\src\\\\App.js\";\nimport React from 'react';\nimport Header from './components/header.js';\nimport Main from './components/main.js';\nimport Footer from './components/footer.js';\nimport AuthForm from './components/authForm.js';\nimport RegisterForm from './components/registerForm.js';\nimport RecoveryForm from './components/recoveryForm.js';\nexport default class App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      formType: '',\n      //register, auth, recovery\n      mainType: 'home',\n      //home, forms\n      orderType: '',\n      //200, 1000\n      login: '',\n      // formType: 'auth',\n      // formType: 'register',\n      // formType: 'recovery',\n      desiredOrder: ''\n    };\n    this.setFormType = this.setFormType.bind(this);\n    this.setMainType = this.setMainType.bind(this);\n    this.fetchGetLogin = this.fetchGetLogin.bind(this);\n    this.delLogin = this.delLogin.bind(this);\n    this.setOrderType = this.setOrderType.bind(this);\n    this.setDesiredOrder = this.setDesiredOrder.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchGetLogin();\n  }\n\n  async fetchGetLogin(userLogin) {\n    if (userLogin) {\n      this.setState({\n        login: userLogin\n      });\n    } else {\n      const res = await fetch('/api/auth', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': localStorage.getItem('token')\n        }\n      });\n      const result = await res.json();\n\n      if (res.ok) {\n        this.setState({\n          login: result.result\n        });\n      } // нет проверки на ошибки при get запросе!!!!\n\n    }\n  }\n\n  setMainType(type = 'home') {\n    this.setState({\n      mainType: type\n    });\n  }\n\n  setFormType(type = '') {\n    this.setState({\n      formType: type\n    });\n  }\n\n  delLogin() {\n    this.setState({\n      login: ''\n    });\n  }\n\n  setOrderType(type = '') {\n    if (!localStorage.length) {\n      this.setState({\n        orderType: ''\n      });\n      return;\n    } //При вызове любой формы обнуляем значение Scroll\n\n\n    window.scroll(0, 0); ////////\n\n    if (type === '200') {\n      this.setState({\n        orderType: '200',\n        mainType: 'forms'\n      });\n    } else if (type === '1000') {\n      this.setState({\n        orderType: '1000',\n        mainType: 'forms'\n      });\n    }\n  }\n\n  setDesiredOrder(order = '') {\n    this.setState({\n      desiredOrder: order\n    });\n  }\n\n  render() {\n    //поиграем\n    let user = [{\n      name: 'John',\n      age: 25\n    }, {\n      name: 'Alice',\n      age: 20\n    }, {\n      name: 'Nick',\n      age: 45\n    }];\n    let number = '1';\n    let nickName = 'name';\n    console.log(user[`${number}`].nick);\n    let selectedPage;\n    if (this.state.mainType === 'home') selectedPage = 'home';else if (this.state.orderType === '200') selectedPage = 'form200';else if (this.state.orderType === '1000') selectedPage = 'form1000';else if (this.state.mainType === 'account') selectedPage = 'account'; //говнокод\n\n    let form;\n    document.querySelector('html').style.overflow = 'hidden';\n\n    switch (this.state.formType) {\n      case 'auth':\n        form = /*#__PURE__*/_jsxDEV(AuthForm, {\n          setFormType: this.setFormType,\n          getLogin: this.fetchGetLogin,\n          setOrderType: this.setOrderType,\n          setDesiredOrder: this.setDesiredOrder,\n          desiredOrder: this.state.desiredOrder\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 16\n        }, this);\n        break;\n\n      case 'register':\n        form = /*#__PURE__*/_jsxDEV(RegisterForm, {\n          setFormType: this.setFormType,\n          getLogin: this.fetchGetLogin,\n          setOrderType: this.setOrderType,\n          setDesiredOrder: this.setDesiredOrder,\n          desiredOrder: this.state.desiredOrder\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 16\n        }, this);\n        break;\n\n      case 'recovery':\n        form = /*#__PURE__*/_jsxDEV(RecoveryForm, {\n          setFormType: this.setFormType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 16\n        }, this);\n        break;\n\n      default:\n        document.querySelector('html').style.overflow = 'visible'; //visible\n\n        break;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        setFormType: this.setFormType,\n        setMainType: this.setMainType,\n        delLogin: this.delLogin,\n        login: this.state.login,\n        setOrderType: this.setOrderType,\n        setDesiredOrder: this.setDesiredOrder,\n        selectedPage: selectedPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Main, {\n        mainType: this.state.mainType,\n        setOrderType: this.setOrderType,\n        orderType: this.state.orderType,\n        setFormType: this.setFormType,\n        setDesiredOrder: this.setDesiredOrder\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), form]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/User_ya/Desktop/repos/posilkoved-repo/client/src/App.js"],"names":["React","Header","Main","Footer","AuthForm","RegisterForm","RecoveryForm","App","Component","constructor","state","formType","mainType","orderType","login","desiredOrder","setFormType","bind","setMainType","fetchGetLogin","delLogin","setOrderType","setDesiredOrder","componentDidMount","userLogin","setState","res","fetch","headers","localStorage","getItem","result","json","ok","type","length","window","scroll","order","render","user","name","age","number","nickName","console","log","nick","selectedPage","form","document","querySelector","style","overflow"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Header from './components/header.js'\nimport Main from './components/main.js'\nimport Footer from './components/footer.js'\nimport AuthForm from './components/authForm.js'\nimport RegisterForm from './components/registerForm.js'\nimport RecoveryForm from './components/recoveryForm.js'\n\nexport default class App extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      formType: '', //register, auth, recovery\n      mainType: 'home', //home, forms\n      orderType: '', //200, 1000\n      login: '',\n      // formType: 'auth',\n      // formType: 'register',\n      // formType: 'recovery',\n      desiredOrder: ''\n    }\n\n    this.setFormType = this.setFormType.bind(this)\n    this.setMainType = this.setMainType.bind(this)\n    this.fetchGetLogin = this.fetchGetLogin.bind(this)\n    this.delLogin = this.delLogin.bind(this)\n    this.setOrderType = this.setOrderType.bind(this)\n    this.setDesiredOrder = this.setDesiredOrder.bind(this)\n  }\n\n  componentDidMount() {\n    this.fetchGetLogin()\n  }\n\n  async fetchGetLogin(userLogin) {\n    if (userLogin) {\n      this.setState({login: userLogin})\n    } else {\n      const res = await fetch('/api/auth', { \n          headers: {\n            'Content-Type':'application/json',\n            'Authorization': localStorage.getItem('token')\n          },\n        }\n      )\n      const result = await res.json()\n\n      if (res.ok) {\n        this.setState({login: result.result})\n      } // нет проверки на ошибки при get запросе!!!!\n    }\n  }\n\n  setMainType(type = 'home') {\n    this.setState({mainType: type})\n  }\n\n  setFormType(type = '') {\n    this.setState({formType: type})\n  }\n\n  delLogin() {\n    this.setState({login: ''})\n  }\n\n  setOrderType(type = '') {\n\n    if (!localStorage.length) {\n      this.setState({orderType: ''})\n      return \n    }\n\n    //При вызове любой формы обнуляем значение Scroll\n    window.scroll(0, 0)\n    ////////\n\n    if (type === '200') {\n      this.setState({\n        orderType: '200',\n        mainType: 'forms',\n      })\n    } else if (type === '1000') {\n      this.setState({\n        orderType: '1000',\n        mainType: 'forms'\n      })\n    }\n  }\n\n  setDesiredOrder(order = '') {\n    this.setState({desiredOrder: order})\n  }\n\n  render() {\n    //поиграем\n    let user = [\n      {\n        name: 'John',\n        age: 25\n      },\n      {\n        name: 'Alice',\n        age: 20\n      },\n      {\n        name: 'Nick',\n        age: 45\n      }\n    ]\n\n    let number = '1'\n    let nickName = 'name'\n\n    console.log(user[`${number}`].nick)   \n\n\n    let selectedPage\n    if (this.state.mainType === 'home') selectedPage = 'home'\n    else if (this.state.orderType === '200') selectedPage = 'form200'\n    else if (this.state.orderType === '1000') selectedPage = 'form1000'\n    else if (this.state.mainType ==='account') selectedPage = 'account'\n\n    //говнокод\n    let form\n    document.querySelector('html').style.overflow = 'hidden' \n    switch (this.state.formType) {\n      case 'auth':\n        form = <AuthForm \n          setFormType={this.setFormType} \n          getLogin={this.fetchGetLogin}\n\n          setOrderType={this.setOrderType} \n          setDesiredOrder={this.setDesiredOrder}\n          desiredOrder={this.state.desiredOrder}\n        />\n        break\n      case 'register': \n        form = <RegisterForm \n          setFormType={this.setFormType} \n          getLogin={this.fetchGetLogin}\n\n          setOrderType={this.setOrderType} \n          setDesiredOrder={this.setDesiredOrder}\n          desiredOrder={this.state.desiredOrder}\n        />\n        break\n      case 'recovery':\n        form = <RecoveryForm setFormType={this.setFormType} />\n        break\n      default:\n        document.querySelector('html').style.overflow = 'visible'\n        //visible\n        break\n    }\n\n    return (\n      <div className='app'>\n        <Header \n          setFormType={this.setFormType} \n          setMainType={this.setMainType}\n          delLogin={this.delLogin}\n          login={this.state.login}\n          setOrderType={this.setOrderType}\n          setDesiredOrder={this.setDesiredOrder}\n          selectedPage={selectedPage}\n        />\n        <Main \n          mainType={this.state.mainType} \n          setOrderType={this.setOrderType}\n          orderType={this.state.orderType}\n          setFormType={this.setFormType} \n          setDesiredOrder={this.setDesiredOrder}\n        />\n        <Footer />\n        {form}\n        {/* <AuthForm /> */}\n        {/* <RegisterForm /> */}\n        {/* <RecoveryForm /> */}\n      </div>\n    )\n  } \n}\n\n"]},"metadata":{},"sourceType":"module"}